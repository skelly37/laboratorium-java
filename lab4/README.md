# Laboratorium 4
## Kod źródłowy
- [src](./src/main/java/lab4)
    - [hibernate.cfg.xml](./src/main/resources/hibernate.cfg.xml)
- [test](./src/test/java/lab4/ShapeDAOTest.java)
    - [hibernate.cfg.xml](./src/test/resources/hibernate.cfg.xml)
- [pom.xml](./pom.xml)

## Wynik przykładowego maina

```
Hibernate: 
    insert 
    into
        triangles
        (a,b,c,alpha,blue,green,red) 
    values
        (?,?,?,?,?,?,?)
Hibernate: 
    insert 
    into
        rectangles
        (alpha,blue,green,red,height,width) 
    values
        (?,?,?,?,?,?)
Hibernate: 
    select
        r1_0.id,
        r1_0.alpha,
        r1_0.blue,
        r1_0.green,
        r1_0.red,
        r1_0.height,
        r1_0.width 
    from
        rectangles r1_0
Hibernate: 
    select
        t1_0.id,
        t1_0.a,
        t1_0.b,
        t1_0.c,
        t1_0.alpha,
        t1_0.blue,
        t1_0.green,
        t1_0.red 
    from
        triangles t1_0
lab4.Shape type: Rectangle (1): W: 5.0 H: 100.0 | color: Red: 0, Green: 0, Blue: 0, Alpha: 0
lab4.Shape type: Rectangle (2): W: 5.0 H: 100.0 | color: Red: 0, Green: 0, Blue: 0, Alpha: 0
lab4.Shape type: Rectangle (3): W: 5.0 H: 100.0 | color: Red: 0, Green: 0, Blue: 0, Alpha: 0
lab4.Shape type: Rectangle (4): W: 5.0 H: 100.0 | color: Red: 0, Green: 0, Blue: 0, Alpha: 0
lab4.Shape type: Rectangle (5): W: 5.0 H: 100.0 | color: Red: 0, Green: 0, Blue: 0, Alpha: 0
lab4.Shape type: Rectangle (6): W: 5.0 H: 100.0 | color: Red: 0, Green: 0, Blue: 0, Alpha: 0
lab4.Shape type: Triangle (1): A: 3.0 B: 4.0 C: 5.0 | color: Red: 255, Green: 255, Blue: 255, Alpha: 255
lab4.Shape type: Triangle (2): A: 3.0 B: 4.0 C: 5.0 | color: Red: 255, Green: 255, Blue: 255, Alpha: 255
lab4.Shape type: Triangle (3): A: 3.0 B: 4.0 C: 5.0 | color: Red: 255, Green: 255, Blue: 255, Alpha: 255
lab4.Shape type: Triangle (4): A: 3.0 B: 4.0 C: 5.0 | color: Red: 255, Green: 255, Blue: 255, Alpha: 255
lab4.Shape type: Triangle (5): A: 3.0 B: 4.0 C: 5.0 | color: Red: 255, Green: 255, Blue: 255, Alpha: 255
lab4.Shape type: Triangle (6): A: 3.0 B: 4.0 C: 5.0 | color: Red: 255, Green: 255, Blue: 255, Alpha: 255
lab4.Shape type: Triangle (7): A: 3.0 B: 4.0 C: 5.0 | color: Red: 255, Green: 255, Blue: 255, Alpha: 255
```

## Wynik testów

```
Hibernate: 
Hibernate: 
    drop table if exists rectangles cascade 
Hibernate: 
    drop table if exists triangles cascade 
Hibernate: 
    create table rectangles (
        alpha integer not null,
        blue integer not null,
        green integer not null,
        height float(53) not null,
        red integer not null,
        width float(53) not null,
        id bigint generated by default as identity,
        primary key (id)
    )
Hibernate: 
    create table triangles (
        a float(53) not null,
        alpha integer not null,
        b float(53) not null,
        blue integer not null,
        c float(53) not null,
        green integer not null,
        red integer not null,
        id bigint generated by default as identity,
        primary key (id)
    )
Hibernate: 
    insert 
    into
        rectangles
        (alpha,blue,green,red,height,width,id) 
    values
        (?,?,?,?,?,?,default)
Hibernate: 
    select
        r1_0.id,
        r1_0.alpha,
        r1_0.blue,
        r1_0.green,
        r1_0.red,
        r1_0.height,
        r1_0.width 
    from
        rectangles r1_0
Hibernate: 
    insert 
    into
        triangles
        (a,b,c,alpha,blue,green,red,id) 
    values
        (?,?,?,?,?,?,?,default)
Hibernate: 
    select
        t1_0.id,
        t1_0.a,
        t1_0.b,
        t1_0.c,
        t1_0.alpha,
        t1_0.blue,
        t1_0.green,
        t1_0.red 
    from
        triangles t1_0
Hibernate: 
    insert 
    into
        triangles
        (a,b,c,alpha,blue,green,red,id) 
    values
        (?,?,?,?,?,?,?,default)
Hibernate: 
    update
        triangles 
    set
        a=?,
        b=?,
        c=?,
        alpha=?,
        blue=?,
        green=?,
        red=? 
    where
        id=?
Hibernate: 
    insert 
    into
        rectangles
        (alpha,blue,green,red,height,width,id) 
    values
        (?,?,?,?,?,?,default)
Hibernate: 
    delete 
    from
        rectangles 
    where
        id=?
Hibernate: 
    drop table if exists rectangles cascade 
Hibernate: 
    drop table if exists triangles cascade 
    drop table if exists triangles cascade 
[INFO] Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.870 s -- in lab4.ShapeDAOTest
Dec 01, 2024 11:28:20 AM org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl getIsolatedConnection
Dec 01, 2024 11:28:20 AM org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl getIsolatedConnection
INFO: HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@2807cf3] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
Dec 01, 2024 11:28:20 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PoolState stop
INFO: HHH10001008: Cleaning up connection pool [jdbc:h2:mem:test;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
[INFO] 
[INFO] Results:
[INFO] 
[INFO] Tests run: 5, Failures: 0, Errors: 0, Skipped: 0
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  1.698 s
[INFO] Finished at: 2024-12-01T11:28:20+01:00
[INFO] ------------------------------------------------------------------------
```